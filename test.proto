syntax = "proto3";

package shelf_life.v1;
import "shelf_life/v1/common.proto";

option java_outer_classname = "ShelfLifeProto";
option java_package = "jp.co.net.trial.shinise.grpc";

import "common/v1/common.proto";

service ShelfService {
  rpc GetZoneList(GetZoneListRequest) returns (GetZoneListResponse);

  rpc GetShelfNoList(GetShelfNoListRequest) returns (GetShelfNoListResponse);

  rpc SetShelfWork(SetShelfWorkRequest) returns (SetShelfWorkResponse);

  rpc GetDrugProductCheckInfo(GetDrugProductCheckInfoRequest) returns (GetDrugProductCheckInfoResponse);

  rpc GetDateLimit(GetDateLimitRequest) returns (GetDateLimitResponse);

  rpc GoBackShelfNoList(GoBackShelfNoListRequest) returns (GoBackShelfNoListResponse);

  rpc DeleteDrugCheckProdInfo(DeleteDrugCheckProdInfoRequest) returns (DeleteDrugCheckProdInfoResponse);

  rpc GetDrugHistory(GetDrugHistoryRequest) returns (GetDrugHistoryResponse);

  rpc UpdateDrugFlag(UpdateDrugFlagRequest) returns (UpdateDrugFlagResponse);

  rpc GetDrugProductInfo(GetDrugProductInfoRequest) returns (GetDrugProductInfoResponse);

   rpc SetDrugProdInfo(SetDrugProdInfoRequest) returns (SetDrugProdInfoResponse);

  rpc DeleteDrugProdInfo(DeleteDrugProdInfoRequest) returns (DeleteDrugProdInfoResponse);

  rpc GetWorkManager(GetWorkManagerRequest) returns (GetWorkManagerResponse);

  rpc GetProcDrugProdInfo(GetProcDrugProdInfoRequest) returns (GetProcDrugProdInfoResponse);

  rpc CheckMidProdInfo(CheckMidProdInfoRequest) returns (CheckMidProdInfoResponse);

  rpc DeleteMidProdInfo(DeleteMidProdInfoRequest) returns (DeleteMidProdInfoResponse);

  rpc GetMidProdInfoList(GetMidProdInfoListRequest) returns (GetMidProdInfoListResponse);

  rpc GetProductInfo(GetProductInfoRequest) returns (GetProductInfoResponse);

  rpc GetShelfHistory(GetShelfHistoryRequest) returns (GetShelfHistoryResponse);

  rpc GetShelfList(GetShelfListRequest) returns (GetShelfListResponse);

  rpc GetShelfName(GetShelfNameRequest) returns (GetShelfNameResponse);

  rpc SetMidProdInfo(SetMidProdInfoRequest) returns (SetMidProdInfoResponse);

  rpc GetSpecialProdInfo(GetSpecialProdInfoRequest) returns (GetSpecialProdInfoResponse);

  rpc GetMinCheckCycleData(GetMinCheckCycleDataRequest) returns (GetMinCheckCycleDataResponse);

  rpc SetSpecialProdInfo(SetSpecialProdInfoRequest) returns (SetSpecialProdInfoResponse);

  rpc DeleteSpecialProdInfo(DeleteSpecialProdInfoRequest) returns (DeleteSpecialProdInfoResponse);

  rpc GetMidProductInfo(GetMidProductInfoRequest) returns (GetMidProductInfoResponse);

  rpc GetCheckCycle(GetCheckCycleRequest) returns (GetCheckCycleResponse);

  rpc RegisterShelfFinish(RegisterShelfFinishRequest) returns (RegisterShelfFinishResponse);

  rpc UpdateMidFlag(UpdateMidFlagRequest) returns (UpdateMidFlagResponse);

  rpc GetSpecialList(GetSpecialListRequest) returns (GetSpecialListResponse);

  rpc CallProcSpecialProdInfo(CallProcSpecialProdInfoRequest) returns (CallProcSpecialProdInfoResponse);

  rpc CallProcMidProdInfo(CallProcMidProdInfoRequest) returns (CallProcMidProdInfoResponse);

  rpc GetShelfInfo(GetShelfInfoRequest) returns (GetShelfInfoResponse);

  rpc GetShelfListByZone(GetShelfListByZoneRequest) returns (GetShelfListByZoneResponse);
}

message GetZoneListRequest {
  optional string store_code = 1;
}

message GetZoneListResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ZoneInfo zone_info = 3;

  // Table 0
  message ZoneInfo {
    optional int32 zone_code = 1;
    optional string zone_name = 2;
    optional string checked_num = 3;
    optional bool is_done = 4;
    optional bool is_danger = 5;
  }
}

message GetShelfNoListRequest {
  // 店舗コード
  optional string store_code = 1;
  // ゾーンコード
  optional int32 zone_code = 2;
}

message GetShelfNoListResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ShelfInfo shelf_info = 3;

  // Table 0
  message ShelfInfo {
    // 棚番号
    // 例: "18001 【過】"
    optional string shelf_no = 1;
    // 棚名称
    optional string shelf_name = 2;
    // 作業進捗
    optional shelf_life.v1.WorkStatus check_flag = 3;
    // 賞味期限チェック予定週
    // 例: 202512 → 2025年の第12週
    optional int32 check_plan_week = 4;
    // 棚名称コード
    optional int32 shelf_class_cd = 5;
    // 棚の種類
    // 定番、エンド、ミッドなどの種別
    optional shelf_life.v1.ShelfType standard_flag = 6;
    // 棚にある商品の種類
    // 酒、米、それ以外 の3パターン
    optional ShelfProductType shelf_product_type = 7;
  }
}

message SetShelfWorkRequest {
  optional int32 zone_code = 1;
  optional string store_code = 2;
  optional int32 check_plan_week = 3;
  optional string shelf_no = 4;
}

message SetShelfWorkResponse {
  optional string code = 1;
  optional string message = 2;
  repeated Shelf shelf = 3;

  // Table 0
  message Shelf {
    optional int32 shelf_state = 1;
  }
}

message GetDrugProductCheckInfoRequest {
  optional string store_code = 1;
  optional string shelf_no = 2;
  optional int32 zone_code = 3;
  optional string shelf_name = 4;
  optional int32 check_plan_week = 5;
  optional int32 shelf_class_code = 6;
}

message GetDrugProductCheckInfoResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ShelfSchedule shelf_schedule = 3;
  repeated ProductInfo product_info = 4;

  // Table 0
  message ShelfSchedule {
    optional string end_time = 1;
    optional string shelf_no = 2;
    optional string shelf_name = 3;
    optional int32 check_plan_week = 4;
  }

  // Table 1
  message ProductInfo {
    optional string product_code = 1;
    optional string product_name = 2;
    optional string spec_name = 3;
    optional string brand_name = 4;
    optional string best_before = 5;
    optional string sum = 6;
    optional string check_day = 7;
    optional bool is_end = 8;
    optional bool is_mid = 9;
    optional string author = 10;
  }
}

message GetDateLimitRequest {
  optional ShelfType standard_flag = 1;
  optional string store_code = 2;
}

message GetDateLimitResponse {
  optional string code = 1;
  optional string message = 2;
  optional string limit_date = 3;
}

message GoBackShelfNoListRequest {
  optional int32 zone_code = 1;
  optional string store_code = 2;
  optional int32 check_plan_week = 3;
  optional string shelf_no = 4;
  optional WorkProgress finish = 5;
}

message GoBackShelfNoListResponse {
  optional string code = 1;
  optional string message = 2;
}

message DeleteDrugCheckProdInfoRequest {
  optional string store_code = 1;
  optional string shelf_no = 2;
  optional int32 zone_code = 3;
  optional string product_code = 4;
}

message DeleteDrugCheckProdInfoResponse {
  optional string code = 1;
  optional string message = 2;

  // Table 0
  optional string pacer_shelflife_deletedrugprodcheckinfo_ver6 = 3;
}

message GetDrugHistoryRequest {
  optional string store_code = 1;
  optional string product_code = 2;
}

message GetDrugHistoryResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ProductInfo product_info = 3;

  message ProductInfo {
    optional string product_code = 1;
    optional string product_name = 2;
    optional string spec_name = 3;
    optional string brand_name = 4;
    optional string shelf_no = 5;
    optional int32 check_plan_week = 6;
    optional string check_week = 7;
    optional string start_date = 8;
    optional string author = 9;
    optional string employee_name = 10;
  }
}

message UpdateDrugFlagRequest {
  optional string store_code = 1;
  optional string shelf_no = 2;
  optional int32 zone_code = 3;
  optional WorkStatus state = 4;
  optional common.v1.Date next_best_before = 5;
  optional int32 check_plan_week = 6;
  optional string product_code = 7;
  optional string shelf_name = 8;
  optional int32 shelf_class_code = 9;
  optional bool is_end = 10;
  optional bool is_mid	= 11;
}

message UpdateDrugFlagResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ShelfSchedule shelf_schedule = 3;
  repeated ProductInfo product_info = 4;

  // Table 0
  message ShelfSchedule {
    optional string end_time = 1;
    optional string shelf_no = 2;
    optional string shelf_name = 3;
    optional string check_plan_week = 4;
  }

  // Table 1
  message ProductInfo {
    optional string product_code = 1;
    optional string product_name = 2;
    optional string spec_name = 3;
    optional string brand_name = 4;
    optional string best_before = 5;
    optional string sum = 6;
    optional string check_day = 7;
    optional bool is_end = 8;
    optional bool is_mid = 9;
    optional string author = 10;
  }
}

message GetDrugProductInfoRequest {
  optional string store_code = 1;
  optional string product_code = 2;
}

message GetDrugProductInfoResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ProductInfo product_info = 3;

  // Table 0
  message ProductInfo {
    optional string product_code = 1;
    optional string product_name = 2;
    optional string spec_name = 3;
    optional string brand_name = 4;
    optional string shelf_no = 5;
    optional string shelf_name = 6;
    optional int32 zone_code = 7;
    optional bool is_end = 8;
    optional bool is_mid = 9;
    optional string next_best_before = 10;
    optional string check_day = 11;
    optional string mid_check_day = 12;
    optional bool is_exist = 13;
    optional bool is_fragile = 14; // freshflg
  }
}

message SetDrugProdInfoRequest {
  optional string store_code = 1;
  optional string shelf_no1 = 2;
  optional string shelf_no2 = 3;
  optional int32 zone_code1 = 4;
  optional int32 zone_code2 = 5;
  optional bool is_end = 6;
  optional bool is_mid = 7;
  optional string product_code = 8;
  optional common.v1.Date old_next_best_before = 9;
  optional common.v1.Date next_best_before = 10;
}

message SetDrugProdInfoResponse {
  optional string code = 1;
  optional string message = 2;

  // Table 0
  optional string pacer_shelflife_setdrugprodinfo_ver6 = 3;
}

message DeleteDrugProdInfoRequest {
  optional string store_code = 1;
  optional string shelf_no1 = 2;
  optional string shelf_no2 = 3;
  optional int32 zone_code1 = 4;
  optional int32 zone_code2 = 5;
  optional common.v1.Date next_best_before = 6;
  optional string product_code = 7;
}

message DeleteDrugProdInfoResponse {
  optional string code = 1;
  optional string message = 2;

  // Table 0
  optional string pacer_shelflife_deletedrugprodinfo_ver6 = 3;
}

message GetWorkManagerRequest {
  optional ShelfType standard_flag = 1;
  optional int32 zone_code = 2;
  optional string shelf_no = 3;
  optional string store_code = 4;
}

message GetWorkManagerResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ManagerInfo manager_info = 3;

  message ManagerInfo {
    optional string user_code = 1;
    optional string user_name = 2;
  }
}

message GetProcDrugProdInfoRequest {
  optional string store_code = 1;
  optional string new_product_code = 2;
  optional string old_product_code = 3;
  optional string old_shelf_no1 = 4;
  optional string old_shelf_no2 = 5;
  optional int32 old_zone_cd1 = 6;
  optional int32 old_zone_cd2 = 7;
  optional bool old_is_end = 8;
  optional bool old_is_mid = 9;
  optional common.v1.Date old_next_best_before = 10;
  optional common.v1.Date next_best_before = 11;
}

message GetProcDrugProdInfoResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ProductInfo product_info = 3;

  // Table 0
  message ProductInfo {
    optional string product_code = 1;
    optional string product_name = 2;
    optional string spec_name = 3;
    optional string brand_name = 4;
    optional string shelf_no = 5;
    optional string shelf_name = 6;
    optional int32 zone_code = 7;
    optional bool is_end = 8;
    optional bool is_mid = 9;
    optional string next_best_before = 10;
    optional string check_day = 11;
    optional string mid_check_day = 12;
    optional bool is_exist = 13;
    optional bool is_show = 14;
  }
}

message CheckMidProdInfoRequest {
  optional int32 zone_code = 1;
  optional string store_code = 2;
  optional string shelf_no = 3;
  optional string product_code = 4;
}

message CheckMidProdInfoResponse {
  optional string code = 1;
  optional string message = 2;
  repeated CheckInfo check_info = 3;

  // Table 0
  message CheckInfo {
    optional int32 amount = 1;
    optional string product_code = 2;
  }
}

message DeleteMidProdInfoRequest {
  optional int32 zone_code = 1;
  optional string store_code = 2;
  optional string shelf_no = 3;
  optional string product_code = 4;
  optional common.v1.Date next_best_before = 5;
}

message DeleteMidProdInfoResponse {
  optional string code = 1;
  optional string message = 2;
  // Table 0 unwrap
  optional string pacer_shelflife_deletemidprodinfo = 3;

  repeated ProductInfo product_info = 4;

  message ProductInfo {
    optional string product_code = 1;
    optional string next_best_before = 2;
    optional string product_name_read = 3;
    optional string spec_name_read = 4;
    optional string brand_name = 5;
  }
}

message GetMidProdInfoListRequest {
  optional int32 zone_code = 1;
  optional string store_code = 2;
  optional string shelf_no = 3;
}

message GetMidProdInfoListResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ProductInfo product_info = 3;

  // Table 0
  message ProductInfo {
    optional string product_code = 1;
    optional string next_best_before = 2;
    optional string product_name_read = 3;
    optional string spec_name_read = 4;
    optional string brand_name = 5;
  }
}

message GetProductInfoRequest {
  optional string store_code = 1;
  optional string product_code = 2;
}

message GetProductInfoResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ProductInfo product_info = 3;

  // Table 0
  message ProductInfo {
    optional string product_name = 1;
    optional string spec_name = 2;
    optional string brand_name = 3;
    optional string check_day = 4;
    optional string mid_check_day = 5;
  }
}

message GetShelfHistoryRequest {
  optional string store_code = 1;
  optional string shelf_no = 2;
}

message GetShelfHistoryResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ShelfHistory shelf_history = 3;

  // Table 0
  message ShelfHistory {
    optional int32 check_plan_week = 1;
    optional string check_week = 2;
    optional string start_date = 3;
    optional string operator = 4;
    optional string employee_name = 5;
    optional string product_code = 6;
    optional string product_name = 7;
    optional string spec_name = 8;
    optional string brand_name = 9;
    optional ShelfType shelf_flag = 10;
  }
}

message GetShelfListRequest {
  optional string store_code = 1;
  repeated ShelfType standard_flag = 2;
}

message GetShelfListResponse {
  optional string code = 1;
  optional string message = 2;
  repeated Shelf shelf = 3;

  // Table 0
  message Shelf {
    optional string shelf_no = 1;
    optional string shelf_name = 2;
    optional int32 zone_code = 3;
    optional string zone_name = 4;
    optional ShelfNoFlag shelf_no_flag = 5;

    // 棚フラグshelfnoflag:0定番、１エンド、２ミッド、３エンド混合、4生鮮、5ドラッグ
    // buf:lint:ignore ENUM_ZERO_VALUE_SUFFIX
    enum ShelfNoFlag {
      SHELF_NO_FLAG_NONE = 0;
      SHELF_NO_FLAG_STANDARD = 1;
      SHELF_NO_FLAG_ZONE = 2;
      SHELF_NO_FLAG_MIXED = 3;
      SHELF_NO_FLAG_END = 4;
      SHELF_NO_FLAG_DRAG = 5;
    }
  }
}

message GetShelfNameRequest {
  optional string shelf_no = 1;
  optional string store_code = 2;
}

message GetShelfNameResponse {
  optional string code = 1;
  optional string message = 2;
  repeated Shelf shelf = 3;

  // Table 0
  message Shelf {
    optional string shelf_no = 1;
    optional string shelf_name = 2;
    optional int32 zone_code = 3;
    optional string zone_name = 4;
    optional ShelfType standard_flag = 5;
  }
}

message SetMidProdInfoRequest {
  optional common.v1.Date next_best_before = 1;
  optional string store_code = 2;
  optional int32 zone_code = 3;
  optional string shelf_no = 4;
  optional string product_code = 5;
}

message SetMidProdInfoResponse {
  optional string code = 1;
  optional string message = 2;

  // Table 0 unwrap
  optional string pacer_shelflife_setmidprodinfo_ver3 = 3;
}

message GetSpecialProdInfoRequest {
  optional string store_code = 1;
  optional string product_code = 2;
}

message GetSpecialProdInfoResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ProductInfo product_info = 3;

  // Table 0
  message ProductInfo {
    optional string product_code = 1;
    optional string product_name = 2;
    optional string spec_name = 3;
    optional string brand_name = 4;
    optional string shelf_no = 5;
    optional string shelf_name = 6;
    optional string zone_code = 7;
    optional string zone_name = 8;
    optional string check_cycle = 9;
    optional string check_cycle_name = 10;
    optional string check_plan_week = 11;
    optional bool is_done = 12;
    optional ShelfType standard_flag = 13;
  }
}

message GetMinCheckCycleDataRequest {
  optional string store_code = 1;
  optional string product_code = 2;
  optional string new_shelf_no3 = 3;
  optional string new_shelf_no2 = 4;
  optional string new_shelf_no = 5;
}

message GetMinCheckCycleDataResponse {
  optional string code = 1;
  optional string message = 2;
  repeated Cycle cycle = 3;

  // Table 0
  message Cycle {
    optional string cycle_flag = 1;
    optional string min_cycle = 2;
  }
}

message SetSpecialProdInfoRequest {
  optional string store_code = 1;
  optional string product_code = 2;
  optional string old_shelf_no = 3;
  optional string new_shelf_no = 4;
  optional int32 old_zone_code = 5;
  optional int32 new_zone_code = 6;
  optional string old_shelf_no2 = 7;
  optional string new_shelf_no2 = 8;
  optional int32 old_zone_code2 = 9;
  optional int32 new_zone_code2 = 10;
  optional string old_shelf_no3 = 11;
  optional string new_shelf_no3 = 12;
  optional int32 old_zone_code3 = 13;
  optional int32 new_zone_code3 = 14;
  optional int32 old_check_cycle_code = 15;
  optional int32 new_check_cycle_code = 16;
  optional int32 old_check_plan_week = 17;
  optional int32 new_check_plan_week = 18;
}

message SetSpecialProdInfoResponse {
  optional string code = 1;
  optional string message = 2;
  // Table 0 unwrap
  optional string pacer_shelflife_setspecialprodinfo_ver3 = 3;
}

message DeleteSpecialProdInfoRequest {
  optional string store_code = 1;
  optional string product_code = 2;
  optional string old_shelf_no = 3;
  optional int32 old_zone_code = 4;
  optional string old_shelf_no2 = 5;
  optional int32 old_zone_code2 = 6;
  optional string old_shelf_no3 = 7;
  optional int32 old_zone_code3 = 8;
  optional int32 old_check_cycle_code = 9;
  optional int32 old_check_plan_week = 10;
}

message DeleteSpecialProdInfoResponse {
  optional string code = 1;
  optional string message = 2;
  // Table 0 unwrap
  optional string pacer_shelflife_deletespecialprodinfo_ver3 = 3;
}

message GetMidProductInfoRequest {
  optional string store_code = 1;
  optional string shelf_class_code = 2;
  optional int32 check_plan_week = 3;
  optional string shelf_no = 4;
  optional int32 zone_code = 5;
  optional string shelf_name = 6;
}

message GetMidProductInfoResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ShelfSchedule shelf_schedule = 3;
  repeated ProductInfo product_info = 4;

  // Table 0
  message ShelfSchedule {
    optional string end_time = 1;
    optional string shelf_no = 2;
    optional string shelf_name = 3;
    optional int32 check_plan_week = 4;
  }

  // Table 1
  message ProductInfo {
    optional string product_code = 1;
    optional string product_name = 2;
    optional string spec_name = 3;
    optional string brand_name = 4;
    optional string best_before = 5;
    optional string sum = 6;
    optional string check_day = 7;
  }
}

message GetCheckCycleRequest {
  // 店舗コード
  optional string store_code = 1;
}

message GetCheckCycleResponse {
  optional string code = 1;
  optional string message = 2;
  repeated CheckCycle check_cycle = 3;

  // Table 0
  message CheckCycle {
    optional int32 check_cycle_code = 1;
    optional string check_cycle_name = 2;
    optional int32 check_cycle = 3;
    optional int32 cur_week = 4;
  }
}

message RegisterShelfFinishRequest {
  optional string store_code = 1;
  optional int32 check_plan_week = 2;
  optional string shelf_no = 3;
  optional int32 finish = 4;
  optional int32 zone_code = 5;
}

message RegisterShelfFinishResponse {
  optional string code = 1;
  optional string message = 2;
}

message UpdateMidFlagRequest {
  optional common.v1.Date next_best_before = 1;
  optional string store_code = 2;
  optional int32 shelf_class_code = 3;
  optional int32 check_plan_week = 4;
  optional string shelf_no = 5;
  optional WorkStatus state = 6;
  optional string product_code = 7;
  optional int32 zone_code = 8;
  optional string shelf_name = 9;
}

message UpdateMidFlagResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ShelfSchedule shelf_schedule = 3;

  // Table 0
  message ShelfSchedule {
    optional string end_time = 1;
    optional string shelf_no = 2;
    optional string shelf_name = 3;
    optional int32 check_plan_week = 4;
  }
}

message GetSpecialListRequest {
  optional string store_code = 1;
  optional int32 zone_code = 2;
  optional string shelf_no = 3;
}

message GetSpecialListResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ProductInfo product_info = 3;

  // Table 0
  message ProductInfo {
    optional string product_code = 1;
    optional string product_name = 2;
    optional string brand_name = 3;
    optional string spec_name = 4;
  }
}

message CallProcSpecialProdInfoRequest {
  optional string store_code = 1;
  optional string new_product_code = 2;
  optional string old_product_code = 3;
  optional string old_shelf_no = 4;
  optional string old_shelf_no2 = 5;
  optional string old_shelf_no3 = 6;
  optional int32 old_zone_code = 7;
  optional int32 old_zone_code2 = 8;
  optional int32 old_zone_code3 = 9;
  optional string new_shelf_no = 10;
  optional string new_shelf_no2 = 11;
  optional string new_shelf_no3 = 12;
  optional int32 new_zone_code = 13;
  optional int32 new_zone_code2 = 14;
  optional int32 new_zone_code3 = 15;
  optional int32 old_check_plan_week = 16;
  optional int32 new_check_plan_week = 17;
  optional string old_check_cycle_code = 18;
  optional string new_check_cycle_code = 19;
}

message CallProcSpecialProdInfoResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ProductInfo product_info = 3;
  // Table 1 unwrap
  optional string pacer_shelflife_setspecialprodinfo_ver3 = 4;

  // Table 0
  message ProductInfo {
    optional string product_code = 1;
    optional string product_name = 2;
    optional string spec_name = 3;
    optional string brand_name = 4;
    optional string shelf_no = 5;
    optional string shelf_name = 6;
    optional string zone_name = 7;
    optional int32 zone_code = 8;
    optional int32 check_cycle = 9;
    optional string check_cycle_name = 10;
    optional int32 check_plan_week = 11;
    optional bool is_done = 12; // flag -> is_done
    optional ShelfType standard_flag = 13;
  }
}

message CallProcMidProdInfoRequest {
  optional string store_code  = 1;
  optional string new_product_code = 2;
  optional string old_product_code = 3;
  optional string shelf_no = 4;
  optional int32 zone_code = 5;
  optional common.v1.Date next_best_before = 6;
}

message CallProcMidProdInfoResponse {
  optional string code = 1;
  optional string message = 2;
  // Table 0 unwrap
  optional string pacer_shelflife_setmidprodinfo_ver3 = 3;
}

message GetShelfInfoRequest {
  // 棚にある商品の種類
  // 酒、米、それ以外 の3パターン
  optional ShelfProductType shelf_product_type = 1;
  // 店舗番号
  optional string store_code = 2;
  // 棚名称コード
  optional string shelf_class_code = 3;
  // 賞味期限チェック予定週
  // 例: 202512 →　2025年の第12週
  optional int32 check_plan_week = 4;
  // 棚番号
  optional string shelf_no = 5;
  // ゾーンコード
  optional int32 zone_code = 6;
  // 棚名称
  optional string shelf_name = 7;
}

message GetShelfInfoResponse {
  optional string code = 1;
  optional string message = 2;
  repeated ShelfInfo shelf_info = 3;
  repeated ProductInfo product_info = 4;

  // Table 0
  message ShelfInfo {
    // 賞味期限チェックの終了予定時間
    // 例: "2025-05-15 16:00:00"
    optional string end_time = 1;
    // 棚番号
    optional string shelf_no = 2;
    // 棚名称
    optional string shelf_name = 3;
    // 賞味期限チェック予定週
    // 例: 202512 →　2025年の第12週
    optional int32 check_plan_week = 4;
  }

  // Table 1
  message ProductInfo {
    // 賞味期限
    // 例: "2025-05-16 00:00:00"
    optional string best_before = 1;
    // 商品コード
    optional string product_code = 2;
    // 商品名
    optional string product_name = 3;
    // 賞味期限チェックの基準となる製造日
    optional string birth = 4;
  }
}

// 棚に置かれている商品のタイプ
enum ShelfProductType {
  SHELF_PRODUCT_TYPE_UNSPECIFIED = 0;
  // 酒
  SHELF_PRODUCT_TYPE_ALCOHOL = 1;
  // 米
  SHELF_PRODUCT_TYPE_RICE = 2;
  // その他
  SHELF_PRODUCT_TYPE_OTHER = 3;
}
message GetShelfListByZoneRequest {
  // 棚フラグstandardFlag: 0定番、１エンド、２ミッド、３エンド混合 4 生鮮 5 ドラッグ
  optional ShelfType standard_flag = 1;
  optional int32 zone_code = 2;
  optional string store_code = 3;
}

message GetShelfListByZoneResponse {
  optional string code = 1;
  optional string message = 2;
  repeated Shelf shelf = 3;

  message Shelf {
    optional string shelf_no = 1;
    optional string shelf_name = 2;
    optional int32 zone_code = 3;
    optional string zone_name = 4;
    // 棚フラグstandardFlag: 0定番、１エンド、２ミッド、３エンド混合 4 生鮮 5 ドラッグ
    optional ShelfType standard_flag = 5;
  }
}


common.proto :
syntax = "proto3";

package shelf_life.v1;

option java_outer_classname = "CommonShelfLifeProto";
option java_package = "jp.co.net.trial.shinise.grpc";

// buf:lint:ignore ENUM_ZERO_VALUE_SUFFIX
enum ShelfType {
  SHELF_TYPE_STANDARD = 0;
  SHELF_TYPE_END = 1;
  SHELF_TYPE_MID = 2;
  SHELF_TYPE_END_MID = 3;
  SHELF_TYPE_FRESH = 4;
  SHELF_TYPE_DRUG = 5;
  SHELF_TYPE_NEW = 40;
  SHELF_TYPE_DISCOUNT = 41;
}

// buf:lint:ignore ENUM_ZERO_VALUE_SUFFIX
enum WorkStatus {
  WORK_STATUS_NOT = 0;
  WORK_STATUS_WORKING = 1;
  WORK_STATUS_NORMAL_COMPLETION = 2;
  WORK_STATUS_DELAYED_COMPLETION = 3;
}

// reference: https://buf.build/docs/configuration/v1beta1/lint-rules/#enum_first_value_zero
enum FreshStatus {
  FRESH_STATUS_UNSPECIFIED = 0; // rule proto3
  FRESH_STATUS_SHORTAGE = 2;
  FRESH_STATUS_END_OF_SALES = 3;
  FRESH_STATUS_DELETE = 4;
}

// buf:lint:ignore ENUM_ZERO_VALUE_SUFFIX
enum DataStatus {
  DATA_STATUS_NORMAL = 0;
  DATA_STATUS_DELETED = 1;
  DATA_STATUS_SYNC_DELETED = 2;
  DATA_STATUS_SYNC = 3;
}

// reference: https://buf.build/docs/configuration/v1beta1/lint-rules/#enum_first_value_zero
enum WorkProgress {
    WORK_PROGRESS_UNSPECIFIED = 0; // rule proto3
    WORK_PROGRESS_PAUSE = 1;
    WORK_PROGRESS_ABORT = 2;
    WORK_PROGRESS_COMPLETE = 9;
}